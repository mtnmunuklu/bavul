<!-- Code generated by gomarkdoc. DO NOT EDIT -->

# api

```go
import "github.com/mtnmunuklu/bavul/api"
```

## Index



# handlers

```go
import "github.com/mtnmunuklu/bavul/api/handlers"
```

## Index

- [type AHandlers](<#AHandlers>)
  - [func \(h \*AHandlers\) ChangeUserRole\(w http.ResponseWriter, r \*http.Request\)](<#AHandlers.ChangeUserRole>)
  - [func \(h \*AHandlers\) DeleteUser\(w http.ResponseWriter, r \*http.Request\)](<#AHandlers.DeleteUser>)
  - [func \(h \*AHandlers\) GetUser\(w http.ResponseWriter, r \*http.Request\)](<#AHandlers.GetUser>)
  - [func \(h \*AHandlers\) GetUsers\(w http.ResponseWriter, r \*http.Request\)](<#AHandlers.GetUsers>)
  - [func \(h \*AHandlers\) SignIn\(w http.ResponseWriter, r \*http.Request\)](<#AHandlers.SignIn>)
  - [func \(h \*AHandlers\) SignUp\(w http.ResponseWriter, r \*http.Request\)](<#AHandlers.SignUp>)
  - [func \(h \*AHandlers\) UpdateUserEmail\(w http.ResponseWriter, r \*http.Request\)](<#AHandlers.UpdateUserEmail>)
  - [func \(h \*AHandlers\) UpdateUserName\(w http.ResponseWriter, r \*http.Request\)](<#AHandlers.UpdateUserName>)
  - [func \(h \*AHandlers\) UpdateUserPassword\(w http.ResponseWriter, r \*http.Request\)](<#AHandlers.UpdateUserPassword>)
- [type AuthHandlers](<#AuthHandlers>)
  - [func NewAuthHandlers\(authSvcClient pb.AuthServiceClient\) AuthHandlers](<#NewAuthHandlers>)


<a name="AHandlers"></a>
## type [AHandlers](<https://github.com/mtnmunuklu/bavul/blob/main/api/handlers/auth.go#L27-L29>)

AHandlers provides a connection with authentication service over proto buffer.

```go
type AHandlers struct {
    // contains filtered or unexported fields
}
```

<a name="AHandlers.ChangeUserRole"></a>
### func \(\*AHandlers\) [ChangeUserRole](<https://github.com/mtnmunuklu/bavul/blob/main/api/handlers/auth.go#L167>)

```go
func (h *AHandlers) ChangeUserRole(w http.ResponseWriter, r *http.Request)
```

ChangeUserRole performs change the user role.

<a name="AHandlers.DeleteUser"></a>
### func \(\*AHandlers\) [DeleteUser](<https://github.com/mtnmunuklu/bavul/blob/main/api/handlers/auth.go#L132>)

```go
func (h *AHandlers) DeleteUser(w http.ResponseWriter, r *http.Request)
```

DeleteUser performs delete the user by email.

<a name="AHandlers.GetUser"></a>
### func \(\*AHandlers\) [GetUser](<https://github.com/mtnmunuklu/bavul/blob/main/api/handlers/auth.go#L97>)

```go
func (h *AHandlers) GetUser(w http.ResponseWriter, r *http.Request)
```

GetUser performs return the user by email.

<a name="AHandlers.GetUsers"></a>
### func \(\*AHandlers\) [GetUsers](<https://github.com/mtnmunuklu/bavul/blob/main/api/handlers/auth.go#L307>)

```go
func (h *AHandlers) GetUsers(w http.ResponseWriter, r *http.Request)
```

GetUsers lists all users.

<a name="AHandlers.SignIn"></a>
### func \(\*AHandlers\) [SignIn](<https://github.com/mtnmunuklu/bavul/blob/main/api/handlers/auth.go#L67>)

```go
func (h *AHandlers) SignIn(w http.ResponseWriter, r *http.Request)
```

SignIn performs the user login process.

<a name="AHandlers.SignUp"></a>
### func \(\*AHandlers\) [SignUp](<https://github.com/mtnmunuklu/bavul/blob/main/api/handlers/auth.go#L37>)

```go
func (h *AHandlers) SignUp(w http.ResponseWriter, r *http.Request)
```

SignUp performs the user registration process.

<a name="AHandlers.UpdateUserEmail"></a>
### func \(\*AHandlers\) [UpdateUserEmail](<https://github.com/mtnmunuklu/bavul/blob/main/api/handlers/auth.go#L247>)

```go
func (h *AHandlers) UpdateUserEmail(w http.ResponseWriter, r *http.Request)
```

UpdateUser performs update the user email.

<a name="AHandlers.UpdateUserName"></a>
### func \(\*AHandlers\) [UpdateUserName](<https://github.com/mtnmunuklu/bavul/blob/main/api/handlers/auth.go#L277>)

```go
func (h *AHandlers) UpdateUserName(w http.ResponseWriter, r *http.Request)
```

UpdateUser performs update the user name.

<a name="AHandlers.UpdateUserPassword"></a>
### func \(\*AHandlers\) [UpdateUserPassword](<https://github.com/mtnmunuklu/bavul/blob/main/api/handlers/auth.go#L217>)

```go
func (h *AHandlers) UpdateUserPassword(w http.ResponseWriter, r *http.Request)
```

UpdateUser performs update the user password.

<a name="AuthHandlers"></a>
## type [AuthHandlers](<https://github.com/mtnmunuklu/bavul/blob/main/api/handlers/auth.go#L14-L24>)

AuthHandlers is the interface of the authentication operation.

```go
type AuthHandlers interface {
    SignUp(w http.ResponseWriter, r *http.Request)
    SignIn(w http.ResponseWriter, r *http.Request)
    GetUser(w http.ResponseWriter, r *http.Request)
    DeleteUser(w http.ResponseWriter, r *http.Request)
    ChangeUserRole(w http.ResponseWriter, r *http.Request)
    UpdateUserPassword(w http.ResponseWriter, r *http.Request)
    UpdateUserEmail(w http.ResponseWriter, r *http.Request)
    UpdateUserName(w http.ResponseWriter, r *http.Request)
    GetUsers(w http.ResponseWriter, r *http.Request)
}
```

<a name="NewAuthHandlers"></a>
### func [NewAuthHandlers](<https://github.com/mtnmunuklu/bavul/blob/main/api/handlers/auth.go#L32>)

```go
func NewAuthHandlers(authSvcClient pb.AuthServiceClient) AuthHandlers
```

NewAuthHandlers creates a new AuthHandlers instance.

# middlewares

```go
import "github.com/mtnmunuklu/bavul/api/middlewares"
```

## Index

- [func Authenticate\(next http.HandlerFunc\) http.HandlerFunc](<#Authenticate>)
- [func LogRequests\(next http.HandlerFunc\) http.HandlerFunc](<#LogRequests>)


<a name="Authenticate"></a>
## func [Authenticate](<https://github.com/mtnmunuklu/bavul/blob/main/api/middlewares/middlewares.go#L22>)

```go
func Authenticate(next http.HandlerFunc) http.HandlerFunc
```

Authenticate provides the authentication process.

<a name="LogRequests"></a>
## func [LogRequests](<https://github.com/mtnmunuklu/bavul/blob/main/api/middlewares/middlewares.go#L13>)

```go
func LogRequests(next http.HandlerFunc) http.HandlerFunc
```

LogRequests provides logging of incoming requests.

# routes

```go
import "github.com/mtnmunuklu/bavul/api/routes"
```

## Index

- [func Install\(router \*mux.Router, routeList \[\]\*Route\)](<#Install>)
- [func WithCORS\(router \*mux.Router\) http.Handler](<#WithCORS>)
- [type Route](<#Route>)
  - [func NewAuthRoutes\(authHandlers handlers.AuthHandlers\) \[\]\*Route](<#NewAuthRoutes>)


<a name="Install"></a>
## func [Install](<https://github.com/mtnmunuklu/bavul/blob/main/api/routes/routes.go#L21>)

```go
func Install(router *mux.Router, routeList []*Route)
```

Install registers a new route with a matcher for the URL path.

<a name="WithCORS"></a>
## func [WithCORS](<https://github.com/mtnmunuklu/bavul/blob/main/api/routes/routes.go#L38>)

```go
func WithCORS(router *mux.Router) http.Handler
```

WithCORS provides Cross\-Origin Resource Sharing middleware.

<a name="Route"></a>
## type [Route](<https://github.com/mtnmunuklu/bavul/blob/main/api/routes/routes.go#L13-L18>)

Route provides the route instance for routing operation.

```go
type Route struct {
    Method       string
    Path         string
    Handler      http.HandlerFunc
    AuthRequired bool
}
```

<a name="NewAuthRoutes"></a>
### func [NewAuthRoutes](<https://github.com/mtnmunuklu/bavul/blob/main/api/routes/auth.go#L10>)

```go
func NewAuthRoutes(authHandlers handlers.AuthHandlers) []*Route
```

NewAuthRoutes provides the routing process for authentication.

# util

```go
import "github.com/mtnmunuklu/bavul/api/util"
```

## Index

- [Variables](<#variables>)
- [func CheckUserIsAdmin\(role string\) bool](<#CheckUserIsAdmin>)
- [func GetUserIdFromToken\(r \*http.Request\) \(string, error\)](<#GetUserIdFromToken>)
- [func WriteAsJson\(w http.ResponseWriter, statusCode int, data interface\{\}\)](<#WriteAsJson>)
- [func WriteError\(w http.ResponseWriter, statusCode int, err error\)](<#WriteError>)
- [type JError](<#JError>)


## Variables

<a name="ErrEmptyBody"></a>Contains error codes for api.

```go
var (
    ErrEmptyBody    = errors.New("body can't be empty")
    ErrEmptyHeader  = errors.New("header can't be empty")
    ErrExistURL     = errors.New("url already exist")
    ErrUnauthorized = errors.New("unauthorized operation")
)
```

<a name="CheckUserIsAdmin"></a>
## func [CheckUserIsAdmin](<https://github.com/mtnmunuklu/bavul/blob/main/api/util/util.go#L56>)

```go
func CheckUserIsAdmin(role string) bool
```

CheckUserIsAdmin checks if user is admin.

<a name="GetUserIdFromToken"></a>
## func [GetUserIdFromToken](<https://github.com/mtnmunuklu/bavul/blob/main/api/util/util.go#L41>)

```go
func GetUserIdFromToken(r *http.Request) (string, error)
```

GetUserIdFromToken provides return the user id in the token.

<a name="WriteAsJson"></a>
## func [WriteAsJson](<https://github.com/mtnmunuklu/bavul/blob/main/api/util/util.go#L25>)

```go
func WriteAsJson(w http.ResponseWriter, statusCode int, data interface{})
```

WriteAsJson provides return the response in json format.

<a name="WriteError"></a>
## func [WriteError](<https://github.com/mtnmunuklu/bavul/blob/main/api/util/util.go#L32>)

```go
func WriteError(w http.ResponseWriter, statusCode int, err error)
```

WriteError provides return the related error in json format.

<a name="JError"></a>
## type [JError](<https://github.com/mtnmunuklu/bavul/blob/main/api/util/util.go#L20-L22>)

Error

```go
type JError struct {
    Error string `json:"error"`
}
```

Generated by [gomarkdoc](<https://github.com/princjef/gomarkdoc>)
